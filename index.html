<!DOCTYPE html>

<head>
	<title>Web Tools</title>
	<link type='text/css' rel='stylesheet' href='bower_components/bootstrap/dist/css/bootstrap.css'>
	<link type='text/css' rel='stylesheet' href='assets/style.css'>
</head>

<body ng-app='webtools'>
	<div class='container-fluid'>
	
		<div class='navigation'>
		</div>

		<div class='main' ng-controller='FoodEntryCtrl'>
			<div class='row'>

				<!-- Picture table -->
				<div class='col-md-2'>
					<div class='panel panel-default'>
						<div class='panel-heading' ng-click='showInfo = !showInfo'>Food Diary Entries - Total: {{totalEntryCount}}</div>
						<div class='panel-body' ng-if='showInfo'>
							Press more button to load more entries.
							Select a picture to edit diary entry.
						</div>
						<table class='table table-bordered header-fixed' align='center'>

							<thead style='background-color:white;'>
								<tr>
									<th>Pictures</th>
								</tr>
							</thead>

							<tbody>
								<tr ng-repeat='entry in entries track by $index' 
										ng-click='selectEntry(entry, $index)' 
										ng-class='{ selected : isSelected(entry)}'>
									<td>
										<img class='thumbnail' ng-src={{entry.get('imageFile').url}} width='150'>
									</td>
								</tr>
							</tbody>

						</table>
						<div class='panel-footer more' ng-click='more()'>
							More <span class='glyphicon glyphicon-plus' aria-hidden='true'></span>
						</div>
					</div>
				</div>

				<!-- Food Entry Panel -->
				<div class='col-md-10'>
					<div class='panel panel-default' ng-if='selectedEntry != null'>

						<div class='panel-heading'>{{selectedEntry.get('locationName')}}
						</div>

						<div class='panel-body'>
							<div class='row'>
								<div class='col-md-6'>

									<div class='thumbnail' 
											 style='width:710px;' 
											 uib-popover="Double Click to expand / colapse picture. Click and drag to position vertically." popover-trigger="mouseenter"
											 popover-placement='right'
											 >
										<div class='frame' frame-expand style='cursor:pointer'>
											<img image-adjust ng-src={{selectedEntry.get('imageFile').url}} width='700'></img>
										</div>

									</div>

									<div class='controls'>
										<span ng-click='prev()' class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
										<span ng-click='next()'class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
									</div>

								</div>

								<div class='col-md-6'>

									<div class='row'>
										<div class='col-md-1'>
											<h3>Tags</h3>
										</div>

										<div class='col-md-11 tags'>
											<span ng-repeat='tag in foodTags' class='label label-default'>
												{{tag.get('foodDiaryTag')}}
											</span>
										</div>

									</div>

									<div class='row'>
										<div class='col-md-2 .location'>
											<h3>Location</h3>
										</div>
										<div class='col-md-10'>
											<h5>{{selectedEntry.get('location')}}</h5>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>

		<div class='footer'>

		</div>

	</div>


	<script type='text/javascript' src='bower_components/angular/angular.js'></script>
	<script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.14.0.js"></script>
	<script type='text/javascript' src='http://www.parsecdn.com/js/parse-1.0.19.min.js'></script>
	<script type='text/javascript' src='assets/constants.js'></script>
	<script type='text/javascript' src='assets/credentials.js'></script>
	<script type='text/javascript' src='assets/service.js'></script>
	<script type='text/javascript' src='assets/directives.js'></script>

	<script type='text/javascript' src='assets/models/models.js'></script>
	<script type='text/javascript' src='assets/models/food-entry.model.js'></script>
	<script type='text/javascript' src='assets/models/food-tag.model.js'></script>
	<script type='text/javascript' src='assets/models/food-detail.model.js'></script>
	<script type='text/javascript' src='assets/models/ingredient.model.js'></script>

	<script type='text/javascript' src='assets/controllers.js'></script>
	<script type='text/javascript' src='assets/main.js'></script>
	<script type='text/geo-key'></script>

</body>
